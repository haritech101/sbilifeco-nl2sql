cubes:
    - name: nb_refund_aotg
      description:
          Refunds in new business, i.e. refunded soon after policies were purchased.
          This table tracks month-to-date refund amounts across different dimensions including
          geographical regions, business channels, product segments, and lines of business.
          Used for monitoring refund trends, analyzing business performance impact, and
          generating management reports on premium refunds.
          This table is self-contained and materialised. It doesn't need to be joined against any other table for any data.

      sql_table: nb_refund_aotg

      dimensions:
          - name: as_on_date
            type: time
            public: false
            sql: as_on_date
            description: >
                The reference date for the data snapshot. Represents the specific date 
                on which the refund data was captured or calculated. Used for time-based 
                analysis and ensuring data consistency across reporting periods.

          - name: branch
            type: string
            sql: branch
            description: >
                Branch identifier or name representing the specific business branch or 
                office location where the refund transaction originated.

          - name: broad_segment
            type: string
            sql: broad_segment
            description: >
                Broad segment under which the refunded product falls

          - name: channel
            type: string
            sql: channel
            description: >
                Distribution channel through which the policy was sold and from which 
                the refund is being processed.

          - name: lob
            type: string
            sql: lob
            description: >
                Line of Business of the product which had to be refunded.

          - name: product
            type: string
            sql: product
            description: >
                Specific product name or code identifying the exact insurance product 
                from which the refund is being processed.

          - name: region
            type: string
            sql: region
            description: >
                Geographical region classification representing the administrative or 
                business region where the refund transaction is recorded.

          - name: zone
            type: string
            sql: zone
            description: >
                Larger geographical zone classification, typically encompassing multiple 
                regions.

          - name: month
            type: string
            sql: month
            description: >
                Reporting month in MMM-YY format (e.g., 'JAN-98' or 'FEB-23'). 
                Represents the specific month in which the refund happened.

      measures:
          - name: mtd_refund_amt
            type: number
            sql: mtd_refund_amt
            description: >
                Month-to-Date refund amount representing the total monetary value of 
                refunds processed from the beginning of the current month up to today.
                The number is aggregated across all dimensions per record.
